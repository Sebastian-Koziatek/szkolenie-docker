Narzędzia do orkiestracji, w tym Docker, zostały stworzone z założeniem, że kontenery muszą być bezstanowe, co oznacza, że ​​nie powinny zapisywać w nich żadnych danych podczas działania. Należy je traktować jako funkcje, które działają w ten sam sposób bez względu na ich stan (zmienne wewnętrzne). Dzieje się tak, ponieważ inne narzędzia, takie jak Kubernetes, mogą generować wiele instancji kontenera w zależności od ruchu żądań. A jeśli kontenery mogą być stanowe, może to skończyć się tym, że kilka kontenerów określonego typu będzie działać inaczej, nawet jeśli mają ten sam obraz bazowy.

Jest nie do przyjęcia w przypadku kontenerów baz danych. Nie może istnieć kilka kontenerów z tą samą bazą danych, ale z różnymi danymi. Jedynym rozwiązaniem tego problemu byłoby posiadanie pojedynczej instancji kontenera w narzędziu do orkiestracji, ale dzięki temu tracimy jedną z jego najpotężniejszych funkcji — pomnożenie liczby instancji kontenera w zależności od ruchu żądań i może to stać się wąskim gardłem cała prędkość aplikacji.

Ok, więc konteneryzacja baz danych nie ma sensu? Odpowiedź na to pytanie nie jest prosta. Ogólnie rzecz biorąc, jeśli bedziesz budować rozwiązanie na produkcji, nie umieszczaj bazy danych w Dockerze. Lepszym rozwiązaniem byłoby skorzystanie z usługi bazodanowej świadczonej przez jednego z dostawców chmury (AWS, GCP itp.). Ale jeśli dane nie są krytyczne, na przykład są używane tylko do programowania lub testowania, możesz to zrobić.

